(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{154:function(t,v){t.exports="data:image/png;base64,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"},168:function(t,v,a){"use strict";a.r(v);var r=a(0),s=Object(r.a)({},(function(){var t=this,v=t.$createElement,r=t._self._c||v;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"浏览器的渲染原理详解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的渲染原理详解"}},[t._v("#")]),t._v(" 浏览器的渲染原理详解")]),t._v(" "),r("h2",{attrs:{id:"浏览器基本知识"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器基本知识"}},[t._v("#")]),t._v(" 浏览器基本知识")]),t._v(" "),r("h3",{attrs:{id:"主要组成部分"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#主要组成部分"}},[t._v("#")]),t._v(" 主要组成部分")]),t._v(" "),r("p",[t._v("浏览器的主要组成部分如下：")]),t._v(" "),r("ul",[r("li",[t._v("浏览器引擎：在用户界面和渲染引擎之间传送指令")]),t._v(" "),r("li",[t._v("渲染引擎：负责显示请求的内容，如：请求内容是 HTML，渲染引擎就负责解析 HTML 和 CSS，并将解析的结果展示在屏幕上")]),t._v(" "),r("li",[t._v("网络：用于网络调用，如：HTTP 请求。")]),t._v(" "),r("li",[t._v("JavaScript 解释器：用于解析和执行 JavaScript 代码")]),t._v(" "),r("li",[t._v("数据存储：浏览器需要在硬盘上保存的各种数据，如：Cookie、storage、indexdb。")])]),t._v(" "),r("h3",{attrs:{id:"浏览器内核"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器内核"}},[t._v("#")]),t._v(" 浏览器内核")]),t._v(" "),r("p",[t._v("浏览器内核是"),r("code",[t._v("通过取得页面内容、整理信息（CSS）、计算和组合最终输出可视化图像结果")]),t._v("。")]),t._v(" "),r("p",[t._v("浏览器的内核是"),r("code",[t._v("多线程")]),t._v("的，在内核的控制下各个线程之间相互配合以保持同步，一个浏览器通常由以下常用线程组成：")]),t._v(" "),r("ul",[r("li",[t._v("GUI 渲染线程：")])]),t._v(" "),r("p",[t._v("负责渲染浏览器界面的 HTML 元素，当界面需要重绘或者回流的时候，该线程就会执行。在 JavaScript 引擎运行脚本时， GUI 渲染线程会被挂起，因此就出现了 JavaScript 脚本会阻塞 html 页面渲染的问题。")]),t._v(" "),r("ul",[r("li",[t._v("JavaScript 引擎线程：")])]),t._v(" "),r("p",[t._v("也被称为 js 内核，主要负责解析和执行 JavaScript 脚本，如：V8 引擎（JavaScript 是单线程的：TODO）")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),r("p",[t._v("GUI渲染线程与JS引擎线程互斥的，是由于JavaScript是可操纵DOM的，如果在修改这些元素属性同时渲染界面（即JavaScript线程和UI线程同时运行），那么渲染线程前后获得的元素数据就可能不一致。当JavaScript引擎执行时GUI线程会被挂起，GUI更新会被保存在一个队列中等到引擎线程空闲时立即被执行。由于GUI渲染线程与JS执行线程是互斥的关系，当浏览器在执行JS程序的时候，GUI渲染线程会被保存在一个队列中，直到JS程序执行完成，才会接着执行。因此如果JS执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。")])]),t._v(" "),r("ul",[r("li",[t._v("定时器触发线程")])]),t._v(" "),r("p",[t._v("浏览器定时计数器并不是由JS引擎计数的, 因为JS引擎是单线程的, 如果处于阻塞线程状态就会影响记计时的准确, 因此通过单独线程来计时并触发定时是更为合理的方案。")]),t._v(" "),r("ul",[r("li",[t._v("事件触发线程")])]),t._v(" "),r("p",[t._v("当一个事件被触发时该线程会把事件添加到待处理队列的队尾，等待JS引擎的处理。这些事件可以是当前执行的代码块如定时任务、也可来自浏览器内核的其他线程如鼠标点击、AJAX异步请求等，但由于JS的单线程关系所有这些事件都得排队等待JS引擎处理。")]),t._v(" "),r("ul",[r("li",[t._v("异步 http 请求线程")])]),t._v(" "),r("p",[t._v("在XMLHttpRequest在连接后是通过浏览器新开一个线程请求，将检测到状态变更时，如果设置有回调函数，异步线程就产生状态变更事件放到JS引擎的处理队列中等待处理。")]),t._v(" "),r("h2",{attrs:{id:"网页的渲染流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#网页的渲染流程"}},[t._v("#")]),t._v(" 网页的渲染流程")]),t._v(" "),r("p",[t._v("一个完整的网页渲染流程大致上可以概括为以下几点：")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("解析")])]),t._v(" "),r("li",[r("p",[t._v("计算 CSS 样式")])]),t._v(" "),r("li",[r("p",[t._v("构建 Render Tree")])]),t._v(" "),r("li",[r("p",[t._v("布局（layout)")]),t._v(" "),r("p",[t._v("定位坐标和大小，是否换行，position, overflow之类的属性。确定了每个DOM元素的样式规则后，计算每个DOM元素最终在屏幕上显示的大小和位置。Web页面中元素的布局是相对的，因此一个元素的布局发生变化，会联动地引发其他元素的布局发生变化。比如body元素的width变化会影响其后代元素的宽度。因此，布局过程是经常发生的。")])]),t._v(" "),r("li",[r("p",[t._v("绘制（paint）")]),t._v(" "),r("p",[t._v("绘制文字、颜色、图像、边框和阴影等，也就是一个DOM元素所有的可视效果。一般来说，这个绘制过程是在多个层上完成的。")])]),t._v(" "),r("li",[r("p",[t._v("渲染层合并（composite）")]),t._v(" "),r("p",[t._v("页面中DOM元素的绘制是在多个层上进行的，在每个层上完成绘制过程之后，浏览器会将所有层按照合理的顺序合并成一个图层，然后在屏幕上呈现。")])])]),t._v(" "),r("p",[r("img",{attrs:{src:a(154),alt:"浏览器渲染过程"}})]),t._v(" "),r("h2",{attrs:{id:"_1-解析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-解析"}},[t._v("#")]),t._v(" 1. 解析")]),t._v(" "),r("h3",{attrs:{id:"解析-html-生成-dom-树"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解析-html-生成-dom-树"}},[t._v("#")]),t._v(" 解析 HTML 生成 DOM 树")]),t._v(" "),r("p",[t._v("获取请求文档的内容后，呈现引擎将开始解析 HTML 文档，并将各标记逐个转化成“内容树”上的 DOM 节点。")]),t._v(" "),r("p",[t._v("解析器解析html文档的解析树是由 DOM 元素和属性节点构成的树结构。它是 HTML 文档的对象表示，同时也是外部内容（例如 JavaScript）与 HTML 元素之间的api，其根节点是document。")]),t._v(" "),r("p",[t._v("解释html成dom的过程，由两个阶段组成："),r("code",[t._v("标记化和树构建")]),t._v("。")]),t._v(" "),r("h3",{attrs:{id:"解析-css-生成-cssom-树"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解析-css-生成-cssom-树"}},[t._v("#")]),t._v(" 解析 CSS 生成 CSSOM 树")]),t._v(" "),r("h3",{attrs:{id:"解析-javascript"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解析-javascript"}},[t._v("#")]),t._v(" 解析 JavaScript")]),t._v(" "),r("h3",{attrs:{id:"知识点一：重绘与回流"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#知识点一：重绘与回流"}},[t._v("#")]),t._v(" 知识点一：重绘与回流")]),t._v(" "),r("h2",{attrs:{id:"资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#资料"}},[t._v("#")]),t._v(" 资料")]),t._v(" "),r("ul",[r("li",[t._v("🍃"),r("a",{attrs:{href:"https://imweb.io/topic/58e3bfa845e5c13468f567d5",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器进程？线程？傻傻分不清楚！"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("🍃"),r("a",{attrs:{href:"https://juejin.im/post/5b0a6f1af265da0ddb63ecd9#heading-27",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器原理"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=s.exports}}]);